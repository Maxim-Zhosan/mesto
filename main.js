(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r,o,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._item=n,this._config=t,this._cardPopupData=r,this._cardDeletePopup=o,this._itemName=n.name,this._itemImage=n.link,this._itemLikes=n.likes,this._itemId=n._id,this._ownerId=n.owner,this._userId=i,this._setLike=u}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._config.template).content.querySelector(this._config.templateItem).cloneNode(!0)}},{key:"_addEventListeners",value:function(){var t=this;this._deleteCardButton=this._view.querySelector(this._config.cardDeleteButton),this._deleteCardButton.addEventListener("click",(function(){return t._cardDeletePopup(t._itemId,t._view)})),this._likeButton=this._view.querySelector(this._config.cardLikeButton),this._likeButton.addEventListener("click",this._setLikes.bind(this)),this._cardImage.addEventListener("click",(function(){return t._cardPopupData({name:t._cardImage.alt,link:t._cardImage.src})}))}},{key:"_checkLike",value:function(){var t=this;this._itemLikes.some((function(e){return e._id===t._userId}))&&this._likeButton.classList.add(this._config.cardIsLiked)}},{key:"_setLikes",value:function(){var t=this,e=this._itemLikes.some((function(e){return e._id===t._userId}));return this._setLike(this._itemId,e,this._itemLikes.length).then((function(e){t._itemLikes=e.likes,t._likesNumber.textContent=e.likes.length,t._likeButton.classList.toggle(t._config.cardIsLiked)}))}},{key:"_checkId",value:function(){this._userId!==this._ownerId._id&&this._deleteCardButton.setAttribute("hidden","")}},{key:"createCard",value:function(){return this._view=this._getTemplate(),this._cardName=this._view.querySelector(this._config.cardName),this._cardName.textContent=this._itemName,this._cardImage=this._view.querySelector(this._config.cardImage),this._cardImage.src=this._itemImage,this._cardImage.alt=this._itemName,this._likesNumber=this._view.querySelector(this._config.cardLikeNumber),this._likesNumber.textContent=Array.isArray(this._itemLikes)?this._itemLikes.length:0,this._addEventListeners(),this._checkLike(),this._checkId(),this._view}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();const n=e;function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=this._formElement.querySelectorAll(this._config.inputSelector),this._submitButton=this._formElement.querySelector(this._config.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e)}))})),this._toggleButtonState()}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t),this._toggleButtonState()}},{key:"_toggleButtonState",value:function(){this._formElement.checkValidity()?(this._submitButton.classList.remove(this._config.inactiveButtonClass),this._submitButton.removeAttribute("disabled","")):(this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.setAttribute("disabled",""))}},{key:"_showInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent="",e.classList.remove(this._config.errorClass)}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const i=o;function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._function=e,this._cardListSelector=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderer",value:function(t,e){var n,r=this;e.map(e.pop,(n=e,function(t){if(Array.isArray(t))return u(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).forEach((function(e){var n=r._function(t,e);r.addItem(n)}))}},{key:"addItem",value:function(t){this._cardListSelector.prepend(t)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(t){"Escape"===t.key&&i.close()},(r="_handleEscClose")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._popup=document.querySelector(e),this._config=n,this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"_handleOutsideClick",value:function(t){t.target.classList.contains(this._config.popup)&&this.close()}},{key:"open",value:function(){this._popup.classList.add(this._config.popupIsOpened),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove(this._config.popupIsOpened),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._closeButton=this._popup.querySelector(this._config.popupCloseIcons),this._closeButton.addEventListener("click",this.close.bind(this)),this._popup.addEventListener("mousedown",this._handleOutsideClick.bind(this))}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const p=l;function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=d(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},_.apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function m(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(o){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e))._popupImage=n._popup.querySelector(n._config.popupImage),n._popupCaption=n._popup.querySelector(n._config.popupCaption),n}return e=u,(n=[{key:"open",value:function(t){this._popupImage.src=t.link,this._popupImage.alt=t.name,this._popupCaption.textContent=t.name,_(v(u.prototype),"open",this).call(this)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);const g=b;function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=E(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function E(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function I(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return I(this,t)});function u(t,e,n){var r,o,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c=function(t){t.preventDefault(),r._data=r._getInputValues(),r.loading(!0,"Сохранение..."),r._submitFunction(r._data).then((function(){r.loading(!1,"Сохранить"),r.close()})).catch((function(t){return console.log(t)}))},(a="_submit")in(o=L(r=i.call(this,t,n)))?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,r._submitFunction=e,r._popupForm=r._popup.querySelector(n.popupForm),r._inputList=r._popupForm.querySelectorAll(r._config.popupInput),r._submitButton=r._popup.querySelector(n.submitButtonSelector),r}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){this._popup.addEventListener("submit",this._submit),O(P(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),O(P(u.prototype),"close",this).call(this)}},{key:"loading",value:function(t,e){this._submitButton.textContent,!0===t?(this._submitButton.textContent=e,this._submitButton.setAttribute("disabled","disabled")):(this._submitButton.textContent=e,this._submitButton.removeAttribute("disabled"))}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);const j=C;function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var A=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=n,this._name=document.querySelector(e.name),this._about=document.querySelector(e.about),this._avatar=document.querySelector(e.avatar)}var e,n;return e=t,(n=[{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._about.textContent=t.about,this._avatarLink=t.avatar,this._avatar.style="background-image: url(".concat(t.avatar,")"),this._id=t._id}},{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatarLink}}},{key:"checkUserId",value:function(){return this._id}}])&&B(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const q=A;function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const R=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._host=e,this._token=n}var e,n;return e=t,(n=[{key:"_getJsonOrError",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._host,"/cards"),{headers:{authorization:this._token}}).then((function(e){return t._getJsonOrError(e)}))}},{key:"changeUserInformation",value:function(t){var e=this;return fetch("".concat(this._host,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){return e._getJsonOrError(t)}))}},{key:"changeAvatar",value:function(t){var e=this;return fetch("".concat(this._host,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t.avatar})}).then((function(t){return e._getJsonOrError(t)}))}},{key:"getUserInformation",value:function(){var t=this;return fetch("".concat(this._host,"/users/me"),{headers:{authorization:this._token}}).then((function(e){return t._getJsonOrError(e)}))}},{key:"addNewCard",value:function(t){var e=this;return fetch("".concat(this._host,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._getJsonOrError(t)}))}},{key:"deleteCardFromServer",value:function(t){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-47/cards/".concat(t),{method:"DELETE",headers:{authorization:this._token}}).then((function(t){return e._getJsonOrError(t)}))}},{key:"addLike",value:function(t){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-47/cards/".concat(t,"/likes"),{method:"PUT",headers:{authorization:this._token}}).then((function(t){return e._getJsonOrError(t)}))}},{key:"deleteLike",value:function(t){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-47/cards/".concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._token}}).then((function(t){return e._getJsonOrError(t)}))}}])&&T(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=F(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function F(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function V(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(r);if(o){var n=J(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t,n))._buttonSelector=r,o._functionToDo=e,o._button=o._popup.querySelector(o._buttonSelector),o}return e=u,(n=[{key:"data",value:function(t,e){this._id=t,this._card=e}},{key:"_toDoFunction",value:function(){this._functionToDo(this._id,this._card),this.close()}},{key:"setEventListeners",value:function(){this._button.addEventListener("click",this._toDoFunction.bind(this)),x(J(u.prototype),"setEventListeners",this).call(this)}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);const M=z;function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G={template:".element-template",templateItem:".elements__item",cardListSelector:".elements",cardName:".elements__place-name",cardImage:".elements__image",cardDeleteButton:".elements__delete-icon",cardLikeButton:".elements__heart-icon",cardIsLiked:"elements__heart-icon_liked",cardLikeNumber:".elements__likes-number",cardPopup:".popup_type_zoom",popup:"popup",popupForm:".popup__form",popupPlace:".popup_type_place",popupAvatar:".popup_type_avatar",popupIsOpened:"popup_opened",popupImage:".popup__image",popupCaption:".popup__caption",popupCloseIcons:".popup__close-icon",popupInput:".popup__input",popupInputPlaceName:".popup__input_type_place",popupInputPlaceLink:".popup__input_type_link",popupProfile:".popup_type_profile",profileNameInput:".popup__input_type_name",profileJobInput:".popup__input_type_job",profileAvatarInput:".popup__input_type_avatar-link",profileName:".profile__name",profileDescription:".profile__description",profileEditButton:".profile__edit-button",cardAddButton:".profile__add-button",avatarEditButton:".profile__avatar",submitButtonSelector:".popup__button",popupFormProfile:".popup__form_type_profile",popupFormNewCard:".popup__form_type_new-card",popupFormNewAvatar:".popup__form_type_new-avatar",popupDeleteCard:".popup_type_delete-card"},K={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Q=document.querySelector(G.profileEditButton),W=document.querySelector(G.cardAddButton),X=document.querySelector(G.avatarEditButton),Y=document.querySelector(G.popupFormProfile),Z=document.querySelector(G.popupFormNewCard),tt=document.querySelector(G.popupFormNewAvatar),et=document.querySelector(G.profileNameInput),nt=document.querySelector(G.profileJobInput),rt=document.querySelector(G.profileAvatarInput),ot=new i(K,Y),it=new i(K,Z),ut=new i(K,tt);ot.enableValidation(),it.enableValidation(),ut.enableValidation();var at=new R("https://nomoreparties.co/v1/cohort-47","9157fd6e-3722-41c9-95ed-7f23b70d5928"),ct=new c(yt,G.cardListSelector),st=new q({name:".profile__name",about:".profile__description",avatar:".profile__avatar"},G),lt=new j(G.popupProfile,(function(t){return at.changeUserInformation(t).then((function(t){st.setUserInfo(t)})).catch((function(t){return console.log(t)}))}),G);lt.setEventListeners();var pt=new j(G.popupPlace,(function(t){return Promise.all([at.getUserInformation(),at.addNewCard(t)]).then((function(t){var e=H(t,2),n=e[0],r=e[1];ct.addItem(yt(n._id,r))})).catch((function(t){return console.log(t)}))}),G);pt.setEventListeners();var ft=new j(G.popupAvatar,(function(t){return at.changeAvatar(t).then((function(t){st.setUserInfo(t)})).catch((function(t){return console.log(t)}))}),G);ft.setEventListeners();var ht=new g(G.cardPopup,G);ht.setEventListeners();var _t=new M(G.popupDeleteCard,(function(t,e){return at.deleteCardFromServer(t).then(e.remove(),e=null).catch((function(t){return console.log(t)}))}),G,K.submitButtonSelector);function dt(t){ht.open(t)}function yt(t,e){return new n(G,e,dt,mt,t,vt).createCard()}function mt(t,e){_t.data(t,e),_t.open()}function vt(t,e){return!0===e?at.deleteLike(t).catch((function(t){return console.log(t)})):at.addLike(t).catch((function(t){return console.log(t)}))}_t.setEventListeners(),Promise.all([at.getUserInformation(),at.getInitialCards()]).then((function(t){var e=H(t,2),n=e[0],r=e[1];ct.renderer(n._id,r),st.setUserInfo(n)})).catch((function(t){return console.log(t)})),Q.addEventListener("click",(function(){return function(){ot.resetValidation();var t=st.getUserInfo();et.value=t.name,nt.value=t.about,lt.open()}()})),W.addEventListener("click",(function(){return it.resetValidation(),void pt.open()})),X.addEventListener("click",(function(){return function(){ut.resetValidation();var t=st.getUserInfo();rt.value=t.avatar,ft.open()}()}))})();
//# sourceMappingURL=main.js.map