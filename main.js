(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var e=function(){function e(t,n,o,r,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._item=n,this._config=t,this._cardPopupData=o,this._cardDeletePopup=r,this._itemName=n.name,this._itemImage=n.link,this._itemLikes=n.likes,this._itemId=n._id,this._ownerId=n.owner,this._userId=i,this._setLike=u}var n,o;return n=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._config.template).content.querySelector(this._config.templateItem).cloneNode(!0)}},{key:"_addEventListeners",value:function(){var t=this;this._deleteCardButton.addEventListener("click",(function(){return t._cardDeletePopup(t._itemId,t)})),this._likeButton.addEventListener("click",(function(){return t._setLike(t._itemId,t._userId,t._itemLikes,t)})),this._cardImage.addEventListener("click",(function(){return t._cardPopupData({name:t._cardImage.alt,link:t._cardImage.src})}))}},{key:"_checkLike",value:function(){var t=this;this._itemLikes.some((function(e){return e._id===t._userId}))&&this._likeButton.classList.add(this._config.cardIsLiked)}},{key:"setLikes",value:function(t){this._itemLikes=t.likes,this._likesNumber.textContent=t.likes.length,this._likeButton.classList.toggle(this._config.cardIsLiked)}},{key:"deleteElement",value:function(){this._view.remove(),this._view=null}},{key:"_checkId",value:function(){this._userId!==this._ownerId._id&&this._deleteCardButton.setAttribute("hidden","")}},{key:"createCard",value:function(){return this._view=this._getTemplate(),this._cardName=this._view.querySelector(this._config.cardName),this._cardImage=this._view.querySelector(this._config.cardImage),this._deleteCardButton=this._view.querySelector(this._config.cardDeleteButton),this._likeButton=this._view.querySelector(this._config.cardLikeButton),this._likesNumber=this._view.querySelector(this._config.cardLikeNumber),this._cardName.textContent=this._itemName,this._cardImage.src=this._itemImage,this._cardImage.alt=this._itemName,this._likesNumber.textContent=Array.isArray(this._itemLikes)?this._itemLikes.length:0,this._checkLike(),this._checkId(),this._addEventListeners(),this._view}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();const n=e;function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=this._formElement.querySelectorAll(this._config.inputSelector),this._submitButton=this._formElement.querySelector(this._config.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e)}))})),this._toggleButtonState()}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t),this._toggleButtonState()}},{key:"_toggleButtonState",value:function(){this._formElement.checkValidity()?(this._submitButton.classList.remove(this._config.inactiveButtonClass),this._submitButton.removeAttribute("disabled","")):(this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.setAttribute("disabled",""))}},{key:"_showInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent="",e.classList.remove(this._config.errorClass)}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const i=r;function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._function=e,this._cardListSelector=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderer",value:function(t,e){var n,o=this;e.map(e.pop,(n=e,function(t){if(Array.isArray(t))return u(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).forEach((function(e){var n=o._function(t,e);o.addItem(n)}))}},{key:"addItem",value:function(t){this._cardListSelector.prepend(t)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(e,n){var o,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(t){"Escape"===t.key&&i.close()},(o="_handleEscClose")in this?Object.defineProperty(this,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[o]=r,this._popup=document.querySelector(e),this._config=n,this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"_handleOutsideClick",value:function(t){t.target.classList.contains(this._config.popup)&&this.close()}},{key:"open",value:function(){this._popup.classList.add(this._config.popupIsOpened),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove(this._config.popupIsOpened),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._closeButton=this._popup.querySelector(this._config.popupCloseIcons),this._closeButton.addEventListener("click",this.close.bind(this)),this._popup.addEventListener("mousedown",this._handleOutsideClick.bind(this))}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const p=l;function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=d(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},_.apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function m(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(u,t);var e,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(o);if(r){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e))._popupImage=n._popup.querySelector(n._config.popupImage),n._popupCaption=n._popup.querySelector(n._config.popupCaption),n}return e=u,(n=[{key:"open",value:function(t){this._popupImage.src=t.link,this._popupImage.alt=t.name,this._popupCaption.textContent=t.name,_(v(u.prototype),"open",this).call(this)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);const g=b;function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=E(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},O.apply(this,arguments)}function E(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function I(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(u,t);var e,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(o);if(r){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return I(this,t)});function u(t,e,n){var o,r,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c=function(t){t.preventDefault(),o._data=o._getInputValues(),o.loading(!0,"Сохранение..."),o._submitFunction(o._data,L(o))},(a="_submit")in(r=L(o=i.call(this,t,n)))?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,o._submitFunction=e,o._popupForm=o._popup.querySelector(n.popupForm),o._inputList=o._popupForm.querySelectorAll(o._config.popupInput),o._submitButton=o._popup.querySelector(n.submitButtonSelector),o}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){this._popup.addEventListener("submit",this._submit),O(P(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),O(P(u.prototype),"close",this).call(this)}},{key:"loading",value:function(t,e){!0===t?(this._submitButton.textContent=e,this._submitButton.setAttribute("disabled","disabled")):(this._submitButton.textContent=e,this._submitButton.removeAttribute("disabled"))}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);const C=j;function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var A=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=n,this._name=document.querySelector(e.name),this._about=document.querySelector(e.about),this._avatar=document.querySelector(e.avatar)}var e,n;return e=t,(n=[{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._about.textContent=t.about,this._avatarLink=t.avatar,this._avatar.style="background-image: url(".concat(t.avatar,")"),this._id=t._id}},{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatarLink}}},{key:"checkUserId",value:function(){return this._id}}])&&B(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const q=A;function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const R=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._host=e,this._token=n}var e,n;return e=t,(n=[{key:"_getJsonOrError",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._host,"/cards"),{headers:{authorization:this._token}}).then((function(e){return t._getJsonOrError(e)}))}},{key:"changeUserInformation",value:function(t){var e=this;return fetch("".concat(this._host,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){return e._getJsonOrError(t)}))}},{key:"changeAvatar",value:function(t){var e=this;return fetch("".concat(this._host,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t.avatar})}).then((function(t){return e._getJsonOrError(t)}))}},{key:"getUserInformation",value:function(){var t=this;return fetch("".concat(this._host,"/users/me"),{headers:{authorization:this._token}}).then((function(e){return t._getJsonOrError(e)}))}},{key:"addNewCard",value:function(t){var e=this;return fetch("".concat(this._host,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._getJsonOrError(t)}))}},{key:"deleteCardFromServer",value:function(t){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-47/cards/".concat(t),{method:"DELETE",headers:{authorization:this._token}}).then((function(t){return e._getJsonOrError(t)}))}},{key:"addLike",value:function(t){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-47/cards/".concat(t,"/likes"),{method:"PUT",headers:{authorization:this._token}}).then((function(t){return e._getJsonOrError(t)}))}},{key:"deleteLike",value:function(t){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-47/cards/".concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._token}}).then((function(t){return e._getJsonOrError(t)}))}}])&&T(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=F(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},x.apply(this,arguments)}function F(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function U(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(u,t);var e,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(o);if(r){var n=J(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return U(this,t)});function u(t,e,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,n))._buttonSelector=o,r._functionToDo=e,r._button=r._popup.querySelector(r._buttonSelector),r}return e=u,(n=[{key:"data",value:function(t,e){this._id=t,this._card=e}},{key:"_toDoFunction",value:function(){this._functionToDo(this._id,this._card),this.close()}},{key:"setEventListeners",value:function(){this._button.addEventListener("click",this._toDoFunction.bind(this)),x(J(u.prototype),"setEventListeners",this).call(this)}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);const M=z;function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var $={template:".element-template",templateItem:".elements__item",cardListSelector:".elements",cardName:".elements__place-name",cardImage:".elements__image",cardDeleteButton:".elements__delete-icon",cardLikeButton:".elements__heart-icon",cardIsLiked:"elements__heart-icon_liked",cardLikeNumber:".elements__likes-number",cardPopup:".popup_type_zoom",popup:"popup",popupForm:".popup__form",popupPlace:".popup_type_place",popupAvatar:".popup_type_avatar",popupIsOpened:"popup_opened",popupImage:".popup__image",popupCaption:".popup__caption",popupCloseIcons:".popup__close-icon",popupInput:".popup__input",popupInputPlaceName:".popup__input_type_place",popupInputPlaceLink:".popup__input_type_link",popupProfile:".popup_type_profile",profileNameInput:".popup__input_type_name",profileJobInput:".popup__input_type_job",profileAvatarInput:".popup__input_type_avatar-link",profileName:".profile__name",profileDescription:".profile__description",profileEditButton:".profile__edit-button",cardAddButton:".profile__add-button",avatarEditButton:".profile__avatar",submitButtonSelector:".popup__button",popupFormProfile:".popup__form_type_profile",popupFormNewCard:".popup__form_type_new-card",popupFormNewAvatar:".popup__form_type_new-avatar",popupDeleteCard:".popup_type_delete-card"},G={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},K=document.querySelector($.profileEditButton),Q=document.querySelector($.cardAddButton),W=document.querySelector($.avatarEditButton),X=document.querySelector($.popupFormProfile),Y=document.querySelector($.popupFormNewCard),Z=document.querySelector($.popupFormNewAvatar),tt=document.querySelector($.profileNameInput),et=document.querySelector($.profileJobInput),nt=document.querySelector($.profileAvatarInput),ot=new i(G,X),rt=new i(G,Y),it=new i(G,Z);ot.enableValidation(),rt.enableValidation(),it.enableValidation();var ut=new R("https://nomoreparties.co/v1/cohort-47","9157fd6e-3722-41c9-95ed-7f23b70d5928"),at=new c(yt,$.cardListSelector),ct=new q({name:".profile__name",about:".profile__description",avatar:".profile__avatar"},$),st=new C($.popupProfile,(function(t,e){return ut.changeUserInformation(t).then((function(t){ct.setUserInfo(t),e.close()})).catch((function(t){return console.log(t)})).finally((function(){e.loading(!1,"Сохранить")}))}),$);st.setEventListeners();var lt=new C($.popupPlace,(function(t,e){return ut.addNewCard(t).then((function(t){at.addItem(yt(ht,t)),e.close()})).catch((function(t){return console.log(t)})).finally((function(){e.loading(!1,"Сохранить")}))}),$);lt.setEventListeners();var pt=new C($.popupAvatar,(function(t,e){return ut.changeAvatar(t).then((function(t){ct.setUserInfo(t),e.close()})).catch((function(t){return console.log(t)})).finally((function(){e.loading(!1,"Сохранить")}))}),$);pt.setEventListeners();var ft=new g($.cardPopup,$);ft.setEventListeners();var ht,_t=new M($.popupDeleteCard,(function(t,e){return ut.deleteCardFromServer(t).then(e.deleteElement()).catch((function(t){return console.log(t)}))}),$,G.submitButtonSelector);function dt(t){ft.open(t)}function yt(t,e){return new n($,e,dt,mt,t,vt).createCard()}function mt(t,e){_t.data(t,e),_t.open()}function vt(t,e,n,o){return!0===n.some((function(t){return t._id===e}))?ut.deleteLike(t).then((function(t){return o.setLikes(t)})).catch((function(t){return console.log(t)})):ut.addLike(t).then((function(t){return o.setLikes(t)})).catch((function(t){return console.log(t)}))}_t.setEventListeners(),Promise.all([ut.getUserInformation(),ut.getInitialCards()]).then((function(t){var e,n,o=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1];at.renderer(r._id,i),ct.setUserInfo(r),ht=r._id})).catch((function(t){return console.log(t)})),K.addEventListener("click",(function(){return function(){ot.resetValidation();var t=ct.getUserInfo();tt.value=t.name,et.value=t.about,st.open()}()})),Q.addEventListener("click",(function(){return rt.resetValidation(),void lt.open()})),W.addEventListener("click",(function(){return function(){it.resetValidation();var t=ct.getUserInfo();nt.value=t.avatar,pt.open()}()}))})();
//# sourceMappingURL=main.js.map